"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.wrapCssCodeFromClass = void 0;
var generate_1 = __importDefault(require("../generate"));
/**
 * css
 * @param itemClass
 */
function wrapCssCodeFromClass(itemClass, parentName) {
    var _a;
    if (parentName === void 0) { parentName = []; }
    var result = "";
    if (itemClass.name) {
        // maybe exist muti classnames
        var names = itemClass.name.split(" ").filter(function (ele) { return ele; });
        result = (parentName.length > 0
            ? parentName
                .map(function (ele) {
                return "." + ele;
            })
                .join("")
            : "") + " " + names
            .map(function (ele) {
            return "." + ele;
        })
            .join(",") + " {}\n";
    }
    if (itemClass.name && itemClass.children && itemClass.children.length > 0) {
        var names_1 = itemClass.name.split(" ").filter(function (ele) { return ele; });
        itemClass.children.forEach(function (ele) {
            result += wrapCssCodeFromClass(ele, names_1) + "\n";
        });
    }
    else {
        result += "" + ((_a = itemClass.children) === null || _a === void 0 ? void 0 : _a.map(function (e) {
            return wrapCssCodeFromClass(e, parentName.length > 0 ? parentName : []);
        }).join("\n"));
    }
    return result;
}
exports.wrapCssCodeFromClass = wrapCssCodeFromClass;
function default_1(data, options) {
    var code = wrapCssCodeFromClass(data);
    return generate_1.default(code, options);
}
exports.default = default_1;
